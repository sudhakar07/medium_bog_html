<div class="entry-content">
<div class="wp-block-image"><figure class="aligncenter size-large"><img alt="" class="wp-image-1828 jetpack-lazy-image" data-attachment-id="1828" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-99" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=1024%2C576&amp;ssl=1" data-lazy-sizes="(max-width: 1280px) 100vw, 1280px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=580%2C326&amp;ssl=1&amp;is-pending-load=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=1200%2C675&amp;ssl=1 1200w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=600%2C338&amp;ssl=1 600w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=300%2C169&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=1280%2C720&amp;ssl=1" data-orig-size="1280,720" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-99/" decoding="async" height="720" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=580%2C326&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="1280"/><noscript><img alt="" class="wp-image-1828" data-attachment-id="1828" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-99" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=1024%2C576&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=300%2C169&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=1280%2C720&amp;ssl=1" data-orig-size="1280,720" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-99/" decoding="async" height="720" sizes="(max-width: 1280px) 100vw, 1280px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?fit=580%2C326&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=1200%2C675&amp;ssl=1 1200w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-99.png?resize=600%2C338&amp;ssl=1 600w" width="1280"/></noscript></figure></div>
<h2 class="wp-block-heading">What is Algorithmic Trading Strategy ?</h2>
<p>Developing an Algorithmic trading strategy with Python  is something that goes through a couple of phases, just like when you build machine learning models: you formulate a strategy and specify it in a form that you can test on your computer, you do some preliminary testing or back testing, you optimize your strategy and lastly, you evaluate the performance and robustness of your strategy.</p><div class="code-block code-block-2" style="margin: 8px auto; text-align: center; display: block; clear: both;">
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6306647371633064"></script>
<!-- Aman -->
<ins class="adsbygoogle" data-ad-client="ca-pub-6306647371633064" data-ad-format="auto" data-ad-slot="6671908539" data-full-width-responsive="true" style="display:block"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<p>Trading strategies are usually verified by back testing: you reconstruct, with historical data, trades that would have occurred in the past using the rules that are defined with the strategy that you have developed.</p>
<p>This way, you can get an idea of the effectiveness of your strategy, and you can use it as a starting point to optimize and improve your strategy before applying it to real markets.</p>
<p>This relies heavily on the underlying theory or belief that any strategy that has worked out well in the past will likely also work out well in the future.</p>
<p> And any strategy that has performed poorly in the past will probably also do badly in the future.</p><div class="code-block code-block-2" style="margin: 8px auto; text-align: center; display: block; clear: both;">
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6306647371633064"></script>
<!-- Aman -->
<ins class="adsbygoogle" data-ad-client="ca-pub-6306647371633064" data-ad-format="auto" data-ad-slot="6671908539" data-full-width-responsive="true" style="display:block"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<h3 class="wp-block-heading">Let’s Build an Algorithmic Trading Strategy with Python and Machine Learning</h3>
<p><strong>This program uses the dual moving average crossover to determine when to buy and sell stocks</strong>.</p>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>import pandas as pd
import numpy as np
from datetime import datetime
import matplotlib.pyplot as plt
plt.style.use("dark_background")</pre></div>
<p>You can download the data set we need for this purpose from here:</p>
<div class="wp-block-file"><a href="https://thecleverprogrammer.com/wp-content/uploads/2020/05/AAPL.csv">AAPL</a><a class="wp-block-file__button" download="" href="https://thecleverprogrammer.com/wp-content/uploads/2020/05/AAPL.csv">Download Dataset</a></div>
<p><strong>To store the data</strong></p>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>apple = pd.read_csv("AAPL.csv")
apple</pre></div>
<figure class="wp-block-image size-large is-resized"><img alt="" class="wp-image-1818 jetpack-lazy-image" data-attachment-id="1818" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-94" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=1024%2C556&amp;ssl=1" data-lazy-sizes="(max-width: 749px) 100vw, 749px" data-lazy-src="https://i1.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=580%2C315&amp;ssl=1&amp;is-pending-load=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?w=1175&amp;ssl=1 1175w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=300%2C163&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=1024%2C556&amp;ssl=1 1024w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=768%2C417&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=600%2C326&amp;ssl=1 600w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=300%2C163&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=1175%2C638&amp;ssl=1" data-orig-size="1175,638" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-94/" decoding="async" height="407" src="https://i1.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=580%2C315&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="749"/><noscript><img alt="" class="wp-image-1818" data-attachment-id="1818" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-94" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=1024%2C556&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=300%2C163&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=1175%2C638&amp;ssl=1" data-orig-size="1175,638" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-94/" decoding="async" height="407" loading="lazy" sizes="(max-width: 749px) 100vw, 749px" src="https://i1.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?fit=580%2C315&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?w=1175&amp;ssl=1 1175w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=300%2C163&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=1024%2C556&amp;ssl=1 1024w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=768%2C417&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-94.png?resize=600%2C326&amp;ssl=1 600w" width="749"/></noscript></figure>
<p><strong>Let’s Visualize the data</strong></p><div class="code-block code-block-2" style="margin: 8px auto; text-align: center; display: block; clear: both;">
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6306647371633064"></script>
<!-- Aman -->
<ins class="adsbygoogle" data-ad-client="ca-pub-6306647371633064" data-ad-format="auto" data-ad-slot="6671908539" data-full-width-responsive="true" style="display:block"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>plt.figure(figsize=(12, 5))
plt.plot(apple['Adj Close Price'], label='Apple')
plt.title('Apple Adj Close Price History')
plt.xlabel("May 27,2014 - May 25,2020 ")
plt.ylabel("Adj Close Price USD ($)")
plt.legend(loc="upper left")
plt.show()</pre></div>
<figure class="wp-block-image alignfull size-large"><img alt="" class="wp-image-1819 jetpack-lazy-image" data-attachment-id="1819" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image-34" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?fit=807%2C353&amp;ssl=1" data-lazy-sizes="(max-width: 807px) 100vw, 807px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=807%2C353&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?w=807&amp;ssl=1 807w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=300%2C131&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=768%2C336&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=600%2C262&amp;ssl=1 600w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?fit=300%2C131&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?fit=807%2C353&amp;ssl=1" data-orig-size="807,353" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/image-34/" data-recalc-dims="1" decoding="async" height="353" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=807%2C353&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="807"/><noscript><img alt="" class="wp-image-1819" data-attachment-id="1819" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image-34" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?fit=807%2C353&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?fit=300%2C131&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?fit=807%2C353&amp;ssl=1" data-orig-size="807,353" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/image-34/" data-recalc-dims="1" decoding="async" height="353" loading="lazy" sizes="(max-width: 807px) 100vw, 807px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=807%2C353&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?w=807&amp;ssl=1 807w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=300%2C131&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=768%2C336&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-34.png?resize=600%2C262&amp;ssl=1 600w" width="807"/></noscript></figure>
<p><strong>Create a Simple moving average with a 30 day window</strong></p>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>sma30 = pd.DataFrame()
sma30['Adj Close Price'] = apple['Adj Close Price'].rolling(window=30).mean()
sma30</pre></div>
<figure class="wp-block-image size-large"><img alt="" class="wp-image-1821 jetpack-lazy-image" data-attachment-id="1821" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-95" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?fit=352%2C654&amp;ssl=1" data-lazy-sizes="(max-width: 352px) 100vw, 352px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?resize=352%2C654&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?w=352&amp;ssl=1 352w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?resize=161%2C300&amp;ssl=1 161w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?fit=161%2C300&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?fit=352%2C654&amp;ssl=1" data-orig-size="352,654" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-95/" data-recalc-dims="1" decoding="async" height="654" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?resize=352%2C654&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="352"/><noscript><img alt="" class="wp-image-1821" data-attachment-id="1821" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-95" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?fit=352%2C654&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?fit=161%2C300&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?fit=352%2C654&amp;ssl=1" data-orig-size="352,654" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-95/" data-recalc-dims="1" decoding="async" height="654" loading="lazy" sizes="(max-width: 352px) 100vw, 352px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?resize=352%2C654&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?w=352&amp;ssl=1 352w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-95.png?resize=161%2C300&amp;ssl=1 161w" width="352"/></noscript></figure>
<p><strong>To create a Simple moving average 100 day window</strong></p>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>sma100 = pd.DataFrame()
sma100['Adj Close Price'] = apple['Adj Close Price'].rolling(window=100).mean()
sma100</pre></div>
<figure class="wp-block-image size-large"><img alt="" class="wp-image-1822 jetpack-lazy-image" data-attachment-id="1822" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-96" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?fit=343%2C638&amp;ssl=1" data-lazy-sizes="(max-width: 343px) 100vw, 343px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?resize=343%2C638&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?w=343&amp;ssl=1 343w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?resize=161%2C300&amp;ssl=1 161w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?fit=161%2C300&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?fit=343%2C638&amp;ssl=1" data-orig-size="343,638" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-96/" data-recalc-dims="1" decoding="async" height="638" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?resize=343%2C638&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="343"/><noscript><img alt="" class="wp-image-1822" data-attachment-id="1822" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-96" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?fit=343%2C638&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?fit=161%2C300&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?fit=343%2C638&amp;ssl=1" data-orig-size="343,638" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-96/" data-recalc-dims="1" decoding="async" height="638" loading="lazy" sizes="(max-width: 343px) 100vw, 343px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?resize=343%2C638&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?w=343&amp;ssl=1 343w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-96.png?resize=161%2C300&amp;ssl=1 161w" width="343"/></noscript></figure>
<h3 class="wp-block-heading">Now let’s Visualize the new data</h3>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>plt.figure(figsize=(12,5))
plt.plot(apple['Adj Close Price'], label='Apple')
plt.plot(sma30['Adj Close Price'], label='SMA30')
plt.plot(sma100['Adj Close Price'], label='SMA100')
plt.title("Apple Adj. Close Price History")
plt.xlabel('May 27,2014 - May 25,2020')
plt.ylabel('Adj. Close Price USD($)')
plt.legend(loc='upper left')
plt.show()</pre></div>
<figure class="wp-block-image alignfull size-large"><img alt="" class="wp-image-1823 jetpack-lazy-image" data-attachment-id="1823" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image-35" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?fit=807%2C353&amp;ssl=1" data-lazy-sizes="(max-width: 807px) 100vw, 807px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=807%2C353&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?w=807&amp;ssl=1 807w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=300%2C131&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=768%2C336&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=600%2C262&amp;ssl=1 600w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?fit=300%2C131&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?fit=807%2C353&amp;ssl=1" data-orig-size="807,353" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/image-35/" data-recalc-dims="1" decoding="async" height="353" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=807%2C353&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="807"/><noscript><img alt="" class="wp-image-1823" data-attachment-id="1823" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image-35" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?fit=807%2C353&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?fit=300%2C131&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?fit=807%2C353&amp;ssl=1" data-orig-size="807,353" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/image-35/" data-recalc-dims="1" decoding="async" height="353" loading="lazy" sizes="(max-width: 807px) 100vw, 807px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=807%2C353&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?w=807&amp;ssl=1 807w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=300%2C131&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=768%2C336&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-35.png?resize=600%2C262&amp;ssl=1 600w" width="807"/></noscript></figure>
<p><strong>Now create a new Data Frame to store all the data</strong></p>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>data = pd.DataFrame()
data['apple'] = apple['Adj Close Price']
data['SMA30'] = sma30['Adj Close Price']
data['SMA100'] = sma100['Adj Close Price']
data</pre></div>
<figure class="wp-block-image size-large"><img alt="" class="wp-image-1824 jetpack-lazy-image" data-attachment-id="1824" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-97" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?fit=546%2C655&amp;ssl=1" data-lazy-sizes="(max-width: 546px) 100vw, 546px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?resize=546%2C655&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?w=546&amp;ssl=1 546w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?resize=250%2C300&amp;ssl=1 250w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?fit=250%2C300&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?fit=546%2C655&amp;ssl=1" data-orig-size="546,655" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-97/" data-recalc-dims="1" decoding="async" height="655" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?resize=546%2C655&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="546"/><noscript><img alt="" class="wp-image-1824" data-attachment-id="1824" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-97" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?fit=546%2C655&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?fit=250%2C300&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?fit=546%2C655&amp;ssl=1" data-orig-size="546,655" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-97/" data-recalc-dims="1" decoding="async" height="655" loading="lazy" sizes="(max-width: 546px) 100vw, 546px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?resize=546%2C655&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?w=546&amp;ssl=1 546w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-97.png?resize=250%2C300&amp;ssl=1 250w" width="546"/></noscript></figure>
<h3 class="wp-block-heading">Create a function to signal when to buy or sell stock</h3>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>def buySell(data):
  sigPriceBuy = []
  sigPriceSell = []
  flag = -1
  for i in range(len(data)):
    if data ['SMA30'][i] &gt; data['SMA100'][i]:
      if flag != 1:
        sigPriceBuy.append(data['apple'][i])
        sigPriceSell.append(np.nan)
        flag = 1
      else:
        sigPriceBuy.append(np.nan)
        sigPriceSell.append(np.nan)
    elif data['SMA30'][i] &lt; data['SMA100'][i]:
      if flag != 0:
        sigPriceBuy.append(np.nan)
        sigPriceSell.append(data['apple'][i])
        flag = 0
      else:
        sigPriceBuy.append(np.nan)
        sigPriceSell.append(np.nan)
    else:
      sigPriceBuy.append(np.nan)
      sigPriceSell.append(np.nan)
  return(sigPriceBuy, sigPriceSell)</pre></div>
<p><strong>To store the buy and sell  data into a variable</strong></p><div class="code-block code-block-2" style="margin: 8px auto; text-align: center; display: block; clear: both;">
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6306647371633064"></script>
<!-- Aman -->
<ins class="adsbygoogle" data-ad-client="ca-pub-6306647371633064" data-ad-format="auto" data-ad-slot="6671908539" data-full-width-responsive="true" style="display:block"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>buySell = buySell(data)
data['Buy Signal Price'] = buySell[0]
data['Sell Signal Price'] = buySell[1]
# To show the data
data</pre></div>
<figure class="wp-block-image size-large is-resized"><img alt="" class="wp-image-1826 jetpack-lazy-image" data-attachment-id="1826" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-98" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?fit=1007%2C638&amp;ssl=1" data-lazy-sizes="(max-width: 722px) 100vw, 722px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=722%2C457&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?w=1007&amp;ssl=1 1007w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=300%2C190&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=768%2C487&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=600%2C380&amp;ssl=1 600w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?fit=300%2C190&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?fit=1007%2C638&amp;ssl=1" data-orig-size="1007,638" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-98/" data-recalc-dims="1" decoding="async" height="457" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=722%2C457&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="722"/><noscript><img alt="" class="wp-image-1826" data-attachment-id="1826" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="Untitled-98" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?fit=1007%2C638&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?fit=300%2C190&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?fit=1007%2C638&amp;ssl=1" data-orig-size="1007,638" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/untitled-98/" data-recalc-dims="1" decoding="async" height="457" loading="lazy" sizes="(max-width: 722px) 100vw, 722px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=722%2C457&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?w=1007&amp;ssl=1 1007w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=300%2C190&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=768%2C487&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/Untitled-98.png?resize=600%2C380&amp;ssl=1 600w" width="722"/></noscript></figure>
<h3 class="wp-block-heading">Now let’s Visualize the data and strategy to buy and sell stock</h3>
<div class="wp-block-codemirror-blocks-code-block code-block"><pre class="CodeMirror" data-setting='{"mode":"python","mime":"text/x-python","theme":"default","lineNumbers":true,"styleActiveLine":false,"lineWrapping":false,"readOnly":true,"showPanel":false,"language":"Python","modeName":"python"}'>plt.style.use('classic')
plt.figure(figsize=(12,5))
plt.plot(data['apple'], label='Apple', alpha=0.35)
plt.plot(data['SMA30'], label='SMA30', alpha=0.35)
plt.plot(data['SMA100'],label='SMA100', alpha=0.35)
plt.scatter(data.index, data['Buy Signal Price'], label ='Buy', marker='^',color='green')
plt.scatter(data.index, data['Sell Signal Price'],label='Sell', marker='v', color='red')
plt.title('Apple Adj. Close Price History Buy and Sell Signals')
plt.xlabel("May 27,2014 - May 25,2020")
plt.ylabel("Adj Close Price USD($)")
plt.legend(loc='upper left')
plt.show()</pre></div>
<figure class="wp-block-image alignfull size-large"><img alt="" class="wp-image-1827 jetpack-lazy-image" data-attachment-id="1827" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image-37" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?fit=825%2C389&amp;ssl=1" data-lazy-sizes="(max-width: 825px) 100vw, 825px" data-lazy-src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=825%2C389&amp;is-pending-load=1#038;ssl=1" data-lazy-srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?w=825&amp;ssl=1 825w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=300%2C141&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=768%2C362&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=600%2C283&amp;ssl=1 600w" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?fit=300%2C141&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?fit=825%2C389&amp;ssl=1" data-orig-size="825,389" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/image-37/" data-recalc-dims="1" decoding="async" height="389" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=825%2C389&amp;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="825"/><noscript><img alt="" class="wp-image-1827" data-attachment-id="1827" data-comments-opened="1" data-image-caption="" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":"","orientation":"0"}' data-image-title="image-37" data-large-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?fit=825%2C389&amp;ssl=1" data-lazy-fallback="1" data-medium-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?fit=300%2C141&amp;ssl=1" data-orig-file="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?fit=825%2C389&amp;ssl=1" data-orig-size="825,389" data-permalink="https://thecleverprogrammer.com/2020/05/25/algorithmic-trading-strategy-with-machine-learning-and-python/image-37/" data-recalc-dims="1" decoding="async" height="389" loading="lazy" sizes="(max-width: 825px) 100vw, 825px" src="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=825%2C389&amp;ssl=1" srcset="https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?w=825&amp;ssl=1 825w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=300%2C141&amp;ssl=1 300w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=768%2C362&amp;ssl=1 768w, https://i0.wp.com/thecleverprogrammer.com/wp-content/uploads/2020/05/image-37.png?resize=600%2C283&amp;ssl=1 600w" width="825"/></noscript></figure>
<h3 class="has-background-color has-primary-background-color has-text-color has-background wp-block-heading">Follow us on Instagram for all your Queries</h3>
<div class="wp-block-group"><div class="wp-block-group__inner-container is-layout-flow"></div></div>
<!-- AI CONTENT END 1 -->
</div>